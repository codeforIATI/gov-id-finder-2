(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{309:function(t,n,e){var content=e(315);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(81).default)("1b7833da",content,!0,{sourceMap:!1})},314:function(t,n,e){"use strict";e(309)},315:function(t,n,e){var o=e(80)(!1);o.push([t.i,".organisation-data{max-width:700px;margin:0 auto;--vs-font-size:1.2rem;--vs-search-input-placeholder-color:grey}.organisation-data .organisation-option-label{flex-basis:100%;white-space:normal}.organisation-data .organisation-option-code{white-space:nowrap;font-style:italic}.organisation-data .input-group-text,.organisation-data input{font-size:1.2rem}.organisation-data .vs__selected-options{flex-wrap:nowrap}.organisation-data .vs__search::-moz-placeholder{background:#fff;font-size:1.2rem}.organisation-data .vs__search:-ms-input-placeholder{background:#fff;font-size:1.2rem}.organisation-data .vs__dropdown-menu,.organisation-data .vs__dropdown-toggle,.organisation-data .vs__search::placeholder{background:#fff;font-size:1.2rem}#__layout,#__nuxt{height:100%!important;flex-direction:column!important;display:flex!important}",""]),t.exports=o},316:function(t,n,e){"use strict";e.r(n);e(15),e(16),e(17),e(310),e(22),e(11),e(129);var o=e(102),r=e.n(o),c=e(311),l=e.n(c),d=(e(312),e(160),{name:"index",data:function(){return{options:[],placeholder:"E.g. Ministry of Health and Social Welfare (Liberia)",selectedOrganisationID:null,selectedOrganisation:{},busy:!1,noOptions:!1,lookup:""}},head:function(){return{htmlAttrs:{class:"h-100"},bodyAttrs:{class:"d-flex flex-column h-100"}}},computed:{baseURL:function(){return this.$axios.defaults.baseURL}},components:{vSelect:l.a},methods:{copy:function(){var t=this.selectedOrganisationID.code;navigator.clipboard.writeText(t),this.$bvToast.toast("Copied ".concat(t," to clipboard."),{title:"Copied to clipboard",autoHideDelay:5e3})},filterOptions:function(option,label,t){return((option.label||"")+(option.code||"")).toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},fetchOptions:function(t,n){var e=this,o=t.substr(0,3).toLowerCase();""!=o&&o!==this.lookup&&(this.options=[],this.lookup=o,3===o.length&&(n(!0),this.selectedOrganisationID=null,r.a.get("".concat(this.baseURL,"/data/lookup/").concat(o,".json")).then((function(t){e.options=t.data.map((function(t){return{label:t[0],code:t[1]}}))})).catch((function(t){e.options=[]})).then((function(t){n(!1)}))))},fetchOrganisation:function(t){var n=this;this.busy=!0,r.a.get("".concat(this.baseURL,"/data/").concat(t,".json")).then((function(e){n.selectedOrganisation=e.data,n.selectedOrganisationID.label=Object.values(n.selectedOrganisation.name).join(),n.$router.push({name:"index",hash:"#".concat(t)}),n.busy=!1})).catch((function(t){n.selectedOrganisationID=null,n.busy=!1}))}},mounted:function(){if(this.$route.hash){var t=this.$route.hash.substr(1);this.selectedOrganisationID={code:t,label:t}}else this.$refs.search_organisation_id.$refs.search.focus()},watch:{selectedOrganisationID:{handler:function(t){null!=t?this.fetchOrganisation(t.code):this.selectedOrganisation={}}}}}),h=(e(314),e(75)),component=Object(h.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("b-jumbotron",{staticClass:"mt-4",attrs:{"bg-variant":"white"}},[e("h1",{staticClass:"display-5 text-center"},[t._v("\n      Government Organisation ID Finder\n    ")]),t._v(" "),e("b-row",[e("b-col",{staticClass:"organisation-data text-center"},[e("v-select",{ref:"search_organisation_id",staticClass:"mt-2 mb-2",attrs:{options:t.options,placeholder:t.placeholder,"filter-by":t.filterOptions},on:{search:t.fetchOptions},scopedSlots:t._u([{key:"option",fn:function(n){var code=n.code,label=n.label;return[e("span",{staticStyle:{display:"flex"}},[e("span",{staticClass:"organisation-option-label"},[t._v(t._s(label))]),t._v(" "),e("span",{staticClass:"organisation-option-code"},[t._v(t._s(code))])])]}},{key:"no-options",fn:function(n){var o=n.search;n.searching,n.loading;return[o.length<3?e("span",[t._v("\n              Please enter 3 or more characters.\n            ")]):e("span",[t._v("There are no matching options.")])]}}]),model:{value:t.selectedOrganisationID,callback:function(n){t.selectedOrganisationID=n},expression:"selectedOrganisationID"}})],1)],1),t._v(" "),Object.keys(t.selectedOrganisation).length>0?e("b-row",[e("b-col",{staticClass:"organisation-data"},[e("b-input-group",{attrs:{prepend:"Organisation ID:"}},[e("b-form-input",{ref:"organisation_id",attrs:{readonly:"",value:t.selectedOrganisation.org_id}}),t._v(" "),e("b-input-group-append",[e("b-btn",{attrs:{variant:"primary"},on:{click:t.copy}},[t._v("\n              Copy\n            ")])],1)],1),t._v(" "),e("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Organisation Type:"}},[e("b-form-input",{attrs:{readonly:"",value:t.selectedOrganisation.org_type+" ("+t.selectedOrganisation.org_type_code+")"}})],1),t._v(" "),e("b-btn",{staticClass:"mt-2",attrs:{href:t.selectedOrganisation.source_url,variant:"outline-secondary"}},[t._v("Source: "+t._s(t.selectedOrganisation.source_dataset))])],1)],1):t._e(),t._v(" "),t.busy?e("b-row",[e("b-col",{staticClass:"text-center"},[e("b-spinner",{attrs:{variant:"secondary",label:"Loading..."}})],1)],1):t._e(),t._v(" "),e("b-row",[e("b-col",{staticClass:"organisation-data text-center lead"},[e("hr"),t._v(" "),e("p",{staticClass:"text-muted"},[t._v("Download for all countries")]),t._v(" "),e("b-btn",{attrs:{variant:"success",href:t.baseURL+"/downloads/org-ids.csv"}},[t._v("CSV")]),t._v(" "),e("b-btn",{attrs:{variant:"success",href:t.baseURL+"/downloads/org-ids.json"}},[t._v("JSON")])],1)],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports}}]);